  workflows:
    ios-build:
      name: iOS Build with Firebase
      environment:
        ruby: 3.2.2
        flutter: stable
        xcode: 15.2
        cocoapods: 1.15.2
      triggering:
        events:
          - push
          - pull_request
      scripts:
        - name: Get Flutter dependencies
          script: flutter pub get
        - name: Install CocoaPods
          script: |
            gem install cocoapods -v 1.15.2
            cd ios && pod repo update && pod install
        - name: Build iOS
          script: flutter build ios --release --no-codesign --no-tree-shake-icons
      artifacts:
        - build/ios/iphoneos/*.ipa
      publishing:
        email:
          recipients:
            - jantabish371@gmail.com
          notify:
            success: true
            failure: true
